.TH MAKE_TA 1 "2010 Feb 18" "ASN.1 Tools" "ROA-PKI"

.nh \" Turn off hyphenation

.SH NAME
make_TA \- construct a Compound Trust Anchor CMS structure holding an
ETA EE certificate and a self-signed RTA certificate

.SH SYNOPSIS

.B make_TA
.I ETAcertificate EEcertificate RTAcertificate
.I EEkeyfile outfile.rta.raw
.B >
.I outfile.rta

.SH DESCRIPTION
    
.B make_TA
produces a Compound Trust Anchor structure according to
draft-ietf-sidr-ta-02.  The files specified in the first four
parameters are read and checked.  The ETA EE cert and RTA cert are
assembled into the CMS structure that is signed by the EE private key.
A human-readable form is written to \fIoutfile.rta.raw\fP, while the
binary, DER-encoded CMS structure is written to stdout.
.SS Parameters
.TP
.I ETAcertificate
The file containing the ETA's (External Trust Anchor's) CA
certificate, which does not contain RFC 3779 extensions.  Note that
this ostensibly long-term trust anchor is not included in the CMS
blob output.
.TP
.I EEcertificate
The file containing the ETA's EE certificate, which does
not contain RFC 3779 extensions.
.TP
.I RTAcertificate
The file containing a "normal" self-signed RPKI CA certificate with
RFC 3779 extensions, which can be designated as a trust anchor in the
RPKI.
.TP
.I EEkeyfile
The ".p15" file containing the public/private key material for the ETA
EE certificate.  The label and password used for the EEkeyfile are
assumed to be hard-coded as "label" and "password", as created by 
.BR gen_key (1).
.TP
.I outfile.raw
The name of the text output file for the human readable version of the CMS
structure.

.SS Response Messages
.nf
       Couldn't get ...
       Error inserting ...
       EE ... cert doesn't match ETA cert's
       Error signing in ...
.fi
where the ellipsis is replaced with specific information.
                             
.SH AUTHOR
Charlie Gardiner.

.SH "SEE ALSO"
.BR add_key_info (1),
.BR gen_key (1),
.BR rr (1),
.BR sign_cert (1)
